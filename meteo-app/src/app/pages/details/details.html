@if (weatherData) {
  <div class="details-container">
    <div class="details-header">
      <button (click)="goBack()" class="back-btn">
        â† Torna alla Home
      </button>
      <h1>ğŸ“Š Dettagli Meteo Completi</h1>
    </div>

    <div class="city-header">
      <h2>{{ weatherData.name }}, {{ weatherData.sys.country }}</h2>
      <p class="current-time">{{ today | date:'dd/MM/yyyy HH:mm' }}</p>
    </div>

    <div class="details-grid">
      <!-- Temperatura -->
      <div class="detail-card temperature-card">
        <div class="card-header">
          <span class="card-icon">ğŸŒ¡ï¸</span>
          <h3>Temperatura</h3>
        </div>
        <div class="temperature-grid">
          <div class="temp-item current" [style.color]="getTemperatureColor(weatherData.main.temp)">
            <span class="temp-label">Attuale</span>
            <span class="temp-value">{{ weatherData.main.temp | number:'1.1-1' }}Â°C</span>
          </div>
          <div class="temp-item feels-like">
            <span class="temp-label">Percepita</span>
            <span class="temp-value">{{ weatherData.main.feels_like | number:'1.1-1' }}Â°C</span>
          </div>
          <div class="temp-item min-temp">
            <span class="temp-label">Minima</span>
            <span class="temp-value">{{ weatherData.main.temp_min | number:'1.1-1' }}Â°C</span>
          </div>
          <div class="temp-item max-temp">
            <span class="temp-label">Massima</span>
            <span class="temp-value">{{ weatherData.main.temp_max | number:'1.1-1' }}Â°C</span>
          </div>
        </div>
      </div>

      <!-- Condizioni -->
      <div class="detail-card conditions-card">
        <div class="card-header">
          <span class="card-icon">ğŸŒ¤ï¸</span>
          <h3>Condizioni</h3>
        </div>
        <div class="conditions-content">
          <img 
            [src]="'https://openweathermap.org/img/wn/' + weatherData.weather[0].icon + '@4x.png'" 
            [alt]="weatherData.weather[0].description"
            class="weather-icon-large"
          >
          <div class="conditions-text">
            <h4>{{ weatherData.weather[0].main }}</h4>
            <p>{{ weatherData.weather[0].description | titlecase }}</p>
          </div>
        </div>
      </div>

      <!-- Dettagli Atmosferici -->
      <div class="detail-card atmospheric-card">
        <div class="card-header">
          <span class="card-icon">ğŸŒ¬ï¸</span>
          <h3>Atmosfera</h3>
        </div>
        <div class="atmospheric-grid">
          <div class="atmospheric-item">
            <span class="atmospheric-icon">ğŸ’§</span>
            <div class="atmospheric-text">
              <span class="atmospheric-label">UmiditÃ </span>
              <span class="atmospheric-value">{{ weatherData.main.humidity }}%</span>
            </div>
          </div>
          <div class="atmospheric-item">
            <span class="atmospheric-icon">ğŸ“Š</span>
            <div class="atmospheric-text">
              <span class="atmospheric-label">Pressione</span>
              <span class="atmospheric-value">{{ weatherData.main.pressure }} hPa</span>
            </div>
          </div>
          <div class="atmospheric-item">
            <span class="atmospheric-icon">ğŸ‘ï¸</span>
            <div class="atmospheric-text">
              <span class="atmospheric-label">VisibilitÃ </span>
              <span class="atmospheric-value">{{ weatherData.visibility / 1000 }} km</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Vento -->
      <div class="detail-card wind-card">
        <div class="card-header">
          <span class="card-icon">ğŸ’¨</span>
          <h3>Vento</h3>
        </div>
        <div class="wind-content">
          <div class="wind-speed">
            <span class="wind-value">{{ weatherData.wind.speed }}</span>
            <span class="wind-unit">m/s</span>
          </div>
          <p class="wind-description">
            VelocitÃ  del vento attuale
          </p>
        </div>
      </div>
    </div>

    <div class="actions">
      <button (click)="goBack()" class="btn btn-primary">
        â† Torna alla Ricerca
      </button>
    </div>
  </div>
}